<html>
    <head>
        <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
        <title>Moozie</title>
        <base href="http://moozie.me/">
        <link rel="shortcut icon" type="image/png" href="logo_moozie.png">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <script src="jquery.min.js"></script>
    </head>
    <body onload="setlang();locationHashChanged();">
        <header>
            <a href="#/"><span class="logo">MOOZIE</span></a>
            <nav>
                <a href="#commands"><span class="nav nav-commandes" moozie="commandes"></span></a>
                <a href="https://discord.com/invite/mTDrbTcxUP" target="_blank"><span class="nav" moozie="support"></span></a>
            </nav>
            <div class="spacer"></div>
            <nav class="right">
                <span class="nav nav-lang nav-en" onclick="setlang('EN')">EN</span>
                <span class="nav nav-lang nav-fr" onclick="setlang('FR')">FR</span>
            </nav>
        </header>
        <content id="accueil" >
            <div>
                <img class="face" src="face.png">
                <span class="name">MOOZIE</span>
                <span class="description" moozie="home_description"></span>
                <a href="https://discord.com/oauth2/authorize?client_id=775091439289237505&scope=bot&permissions=2147483647" target="_blank">
                    <span class="button">
                        <div class="buttoncontent">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245 240" style="fill: white;" class="svg"><path d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"></path><path d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"></path></svg>
                            <span class="textbutton" moozie="home_button_add"></span>
                            <div style="clear:both"></div>
                        </div>
                    </span>
                </a>
            </div>
        </content>
        <content id="commandes" style="display:none;">
            <div class="commandes">
                <h2 moozie="commands_general"></h2>
                <ul moozie="list-commandes-general">
                </ul>
            </div>

            <div class="commandes">
                <h2 moozie="commands_moderation"></h2>
                <ul moozie="list-commandes-moderation">
                </ul>
            </div>

            <div class="commandes">
                <h2 moozie="commands_radio"></h2>
                <ul moozie="list-commandes-radio">
                </ul>
            </div>

            <div class="commandes">
                <h2 moozie="commands_economy"></h2>
                <ul moozie="list-commandes-economy">
                </ul>
            </div>

            <div class="commandes">
                <h2 moozie="commands_ticket"></h2>
                <ul moozie="list-commandes-ticket">
                </ul>
            </div>
        </content>

        <script>
            
            window.onhashchange = locationHashChanged;

            function locationHashChanged() {
                
                var hash = window.location.hash;

                if(!hash.indexOf("#commands")) {
                    $('#accueil').css('display', 'none');
                    $('#commandes').css('display', 'block');
                    $('.nav-commandes').css('opacity', '1');
                } else {
                    $('#accueil').css('display', 'block');
                    $('#commandes').css('display', 'none');
                    $('.nav-commandes').css('opacity', '0.7');
                }

            }

            function setlang($lang = "") {

                var current = localStorage.getItem('lang');

                if(!$lang) {
                    if(current) {
                        $lang = localStorage.getItem('lang');
                    } else if(!$lang && !current) {
                        $lang = "EN";
                        localStorage.setItem('lang', "EN");
                    }
                } else {
                    localStorage.setItem('lang', $lang);
                }

                $.getJSON($lang + '.json?cache=' + Math.floor((Math.random() * 100) + 1) + Math.floor((Math.random() * 100) + 1), function(data) {

                    $.each(data['lang'], function(key, value) { $( "[moozie=" + value['name'] + "]" ).html( value['text'] );});

                    var general = moderation = radio = economy = ticket = "";

                    $.each(data['commands_general'], function(key, value) { general = general + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_moderation'], function(key, value) { moderation = moderation + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_radio'], function(key, value) { radio = radio + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_economy'], function(key, value) { economy = economy + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_ticket'], function(key, value) { ticket = ticket + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });

                    $( "[moozie=list-commandes-general]" ).html( general );
                    $( "[moozie=list-commandes-moderation]" ).html( moderation );
                    $( "[moozie=list-commandes-radio]" ).html( radio );
                    $( "[moozie=list-commandes-economy]" ).html( economy );
                    $( "[moozie=list-commandes-ticket]" ).html( ticket );
                });

                $(".nav-lang").each(function (index, element) { $(element).css('opacity', '0.7'); });
                $('.nav-' + $lang.toLowerCase() ).css('opacity', '1');
            }
        </script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-06WRFZG6HW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-06WRFZG6HW');
        </script>
    </body>
</html>