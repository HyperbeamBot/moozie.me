<html>
    <head>
        <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
        <title>Moozie</title>
        <base href="https://moozie.me/">
        <link rel="shortcut icon" type="image/png" href="/img/logo_moozie.png">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600;800;900&display=swap" rel="stylesheet">
        <link href="/css/styles.css" rel="stylesheet">
        <script src="/js/jquery.min.js"></script>
    </head>
    <body onload="setlang();locationHashChanged();">
        <svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position: fixed;left:0;right:0;bottom:-45px;z-index:-20;"><defs></defs><path id="wave" d="" fill="#00a2ff"/></svg>
        <header>
            <img class="face" src="/img/face.png"><a href="#/" class="logo_txt"><span class="logo">MOOZIE</span><span class="me">.ME</span></a>
            
            <div class="spacer"></div>
            <nav class="right">
                <nav>
                    <a href="#commands"><span class="nav nav-commandes" moozie="commandes"></span></a>
                    <a href="https://discord.gg/HMqcfUWZwm" target="_blank"><span class="nav" moozie="support"></span></a>
                    <a href="https://top.gg/bot/775091439289237505" target="_blank"><spann class="nav" moozie="vote">VOTE</span></a>
                </nav>
            </nav>
        </header>
        <content id="accueil" style="display:none;">
            <div>
                <span class="description" moozie="home_description"></span>
                <span class="longdescription" moozie="home_description_bis"></span>

                <div class="flex" style="display:flex;">
                    <a href="https://discord.com/oauth2/authorize?client_id=775091439289237505&scope=bot&permissions=2147483647" target="_blank">
                        <span class="button">
                            <div class="buttoncontent">
                                <span class="textbutton" moozie="home_button_add"></span>
                                <div style="clear:both"></div>
                            </div>
                        </span>
                    </a>
                    <div class="spacer"></div>
                    <a href="https://discord.gg/HMqcfUWZwm" target="_blank">
                    <span class="button" style="background:#1d2033;">
                        <div class="buttoncontent">
                            <span class="textbutton" moozie="support"></span>
                            <div style="clear:both"></div>
                        </div>
                    </span>
                    </a>
                </div>
                

                
            </div>
        </content>
        <content id="commandes" style="display:none;">
            <div class="commandes">
                <h2><img src="/icones/general.png"> <moozie moozie="commands_general"></moozie></h2>
                <ul class="un" moozie="list-commandes-general">
                </ul>
            </div>

            <div class="commandes">
                <h2><img src="/icones/moderation.png"> <moozie moozie="commands_moderation"></moozie></h2>
                <ul class="deux" moozie="list-commandes-moderation">
                </ul>
            </div>

            <div class="commandes">
                <h2><img src="/icones/radio.png"> <moozie moozie="commands_radio"></moozie></h2>
                <ul class="trois" moozie="list-commandes-radio">
                </ul>
            </div>
    
            <div class="commandes">
                <h2><img src="/icones/economy.png"> <moozie moozie="commands_economy"></moozie></h2>
                <ul class="quatre" moozie="list-commandes-economy">
                </ul>
            </div>

            <div class="commandes">
                <h2><img src="/icones/ticket.png"> <moozie moozie="commands_ticket"></moozie></h2>
                <ul class="cinq" moozie="list-commandes-ticket">
                </ul>
            </div>

            <div class="commandes">
                <h2><img src="/icones/xp.png"> <moozie moozie="commands_level"></moozie></h2>
                <ul class="six" moozie="list-commandes-level">
                </ul>
            </div>

            <div class="commandes">
                <h2><img src="/icones/image.png"> <moozie moozie="commands_picture"></moozie></h2>
                <ul class="sept" moozie="list-commandes-picture">
                </ul>
            </div>
        </content>

        
        
        <script src="/js/TweenMax.min.js"></script>
        <script src="/js/wavify.js"></script>
        <script>

                var container = document.body;
                var width = container.offsetWidth;
                var height = container.offsetHeight;
                var wave = document.getElementById('wave');

                var waveWidth = container.offsetWidth;  // Wave SVG width (usually container width)
                var waveHeight = 800;                   // Position from the top of container
                var waveDelta = 40;                     // Wave amplitude
                var speed = 0.4;                        // Wave animation speed
                var wavePoints = 6;                     // How many point will be used to compute our wave

                var points = [];

                function calculateWavePoints(factor) {
                var points = [];
                
                for (var i = 0; i <= wavePoints; i++) {
                    var x = i/wavePoints * waveWidth;
                    var sinSeed = (factor + (i + i % wavePoints)) * speed * 100;
                    var sinHeight = Math.sin(sinSeed / 100) * waveDelta;
                    var yPos = Math.sin(sinSeed / 100) * sinHeight  + waveHeight;
                    points.push({x: x, y: yPos});
                }

                return points;
                }

                function buildPath(points) {
                var SVGString = 'M ' + points[0].x + ' ' + points[0].y;

                var cp0 = {
                    x: (points[1].x - points[0].x) / 2,
                    y: (points[1].y - points[0].y) + points[0].y + (points[1].y - points[0].y)
                };

                SVGString += ' C ' + cp0.x + ' ' + cp0.y + ' ' + cp0.x + ' ' + cp0.y + ' ' + points[1].x + ' ' + points[1].y;

                var prevCp = cp0;
                var inverted = -1;

                for (var i = 1; i < points.length-1; i++) {
                    var cpLength = Math.sqrt(prevCp.x * prevCp.x + prevCp.y * prevCp.y);
                    var cp1 = {
                    x: (points[i].x - prevCp.x) + points[i].x,
                    y: (points[i].y - prevCp.y) + points[i].y
                    };

                    SVGString += ' C ' + cp1.x + ' ' + cp1.y + ' ' + cp1.x + ' ' + cp1.y + ' ' + points[i+1].x + ' ' + points[i+1].y;
                    prevCp = cp1;
                    inverted = -inverted;
                };

                SVGString += ' L ' + width + ' ' + height;
                SVGString += ' L 0 ' + height + ' Z';
                return SVGString;
                }

                var lastUpdate;
                var totalTime = 0;

                function tick() {
                var now = window.Date.now();

                if (lastUpdate) {
                    var elapsed = (now-lastUpdate) / 1000;
                    lastUpdate = now;

                    totalTime += elapsed;
                    
                    var factor = totalTime*Math.PI;
                    wave.setAttribute('d', buildPath(calculateWavePoints(factor)));
                } else {
                    lastUpdate = now;
                }
                
                window.requestAnimationFrame(tick);
                };
                tick();
            

            window.onhashchange = locationHashChanged;

            function locationHashChanged() {
                
                var hash = window.location.hash;

                if(!hash.indexOf("#commands")) {
                    $('#accueil').css('display', 'none');
                    $('#commandes').css('display', 'block');
                    $('.nav-commandes').css('opacity', '1');
                } else {
                    $('#accueil').css('display', 'block');
                    $('#commandes').css('display', 'none');
                    $('.nav-commandes').css('opacity', '0.7');
                }

            }

            function setlang($lang = "") {

                $.getJSON('/lang/EN.json?cache=' + Math.floor((Math.random() * 100) + 1) + Math.floor((Math.random() * 100) + 1), function(data) {

                    $.each(data['lang'], function(key, value) { $( "[moozie=" + value['name'] + "]" ).html( value['text'] );});

                    var general = moderation = radio = level = economy = ticket = level = picture = "";

                    $.each(data['commands_general'], function(key, value) { general = general + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_moderation'], function(key, value) { moderation = moderation + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_radio'], function(key, value) { radio = radio + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_economy'], function(key, value) { economy = economy + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_ticket'], function(key, value) { ticket = ticket + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_level'], function(key, value) { level = level + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });
                    $.each(data['commands_picture'], function(key, value) { picture = picture + "<li><b>+" + value['name'] + "</b> <span>" + value['text'] + "</span>" });

                    $( "[moozie=list-commandes-general]" ).html( general );
                    $( "[moozie=list-commandes-moderation]" ).html( moderation );
                    $( "[moozie=list-commandes-radio]" ).html( radio );
                    $( "[moozie=list-commandes-economy]" ).html( economy );
                    $( "[moozie=list-commandes-ticket]" ).html( ticket );
                    $( "[moozie=list-commandes-level]" ).html( level );
                    $( "[moozie=list-commandes-picture]" ).html( picture );
                });

                $(".nav-lang").each(function (index, element) { $(element).css('opacity', '0.7'); });
                $('.nav-' + $lang.toLowerCase() ).css('opacity', '1');
            }
        </script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-06WRFZG6HW"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-06WRFZG6HW');
        </script>
    </body>
</html>
